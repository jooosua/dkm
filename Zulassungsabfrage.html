<!DOCTYPE html>
<html lang="de">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Pangaea Life – Zulassung erfassen</title>
    <meta name="color-scheme" content="light only" />
    <style>
      :root {
        --pl-blue: #004a99;
        --pl-acc: #1b5ef5;
        --pl-bg: #f3f5f7;
        --pl-text: #2b2b2b;
        --pl-muted: #6b7280;
        --pl-card: #ffffff;
        --radius: 16px;
      }

      body {
        margin: 0;
        font-family: "Segoe UI", Roboto, Arial, sans-serif;
        background: var(--pl-bg);
        color: var(--pl-text);
      }

      .container {
        max-width: 520px;
        margin: 5vh auto;
        background: var(--pl-card);
        border-radius: var(--radius);
        box-shadow: 0 12px 30px rgba(0, 0, 0, 0.1);
        overflow: hidden;
      }

      .header {
        background: linear-gradient(135deg, var(--pl-blue) 0%, #0b57c2 100%);
        padding: 28px 24px 20px;
        text-align: center;
      }

      .logo {
        max-width: 190px;
        height: auto;
        display: block;
        margin: 0 auto 12px;
      }

      h1 {
        font-size: 1.6rem;
        text-align: center;
        color: var(--pl-blue);
        margin-bottom: 10px;
      }

      form {
        padding: 30px 26px;
      }

      label {
        display: block;
        margin: 12px 0 6px;
        font-weight: 600;
        font-size: 15px;
      }

      select,
      input[type="text"] {
        width: 100%;
        padding: 14px 16px;
        font-size: 16px;
        border: 1px solid #d9dde3;
        border-radius: 12px;
        background: #fdfdfd;
        outline: none;
        transition: 0.2s border, 0.2s box-shadow;
      }

      input:focus,
      select:focus {
        border-color: var(--pl-acc);
        box-shadow: 0 0 0 4px rgba(27, 94, 245, 0.18);
      }

      .cta {
        margin-top: 22px;
        width: 100%;
        padding: 16px;
        font-size: 17px;
        font-weight: 700;
        border: 0;
        border-radius: 14px;
        color: #fff;
        background: linear-gradient(90deg, var(--pl-acc), var(--pl-blue));
        cursor: pointer;
        box-shadow: 0 8px 20px rgba(27, 94, 245, 0.3);
      }

      .cta:hover {
        transform: translateY(-1px);
        box-shadow: 0 10px 24px rgba(27, 94, 245, 0.34);
      }

      .success {
        display: none;
        text-align: center;
        color: #15803d;
        font-weight: 700;
        margin-top: 18px;
      }

      .foot {
        background: #f0f2f5;
        border-top: 1px solid #e0e4ea;
        padding: 18px 14px;
        text-align: center;
        font-size: 12px;
        color: #555;
      }
    </style>
  </head>

  <body>
    <div class="container">
      <div class="header">
        <img
          class="logo"
          src="https://www.pangaea-life.de/.resources/bayerische-lm/webresources/pangaea-life/img/pangaea-life-logo-white.svg"
          alt="Pangaea Life"
        />
      </div>

      <form
        id="zulassungForm"
        action="https://webto.salesforce.com/servlet/servlet.WebToLead?encoding=UTF-8"
        method="POST"
        target="hidden_iframe"
      >
        <input type="hidden" name="oid" value="00D06000001lc1a" />
        <input type="hidden" name="retURL" value="" />

        <!-- Hidden: Lead-ID -->
        <input type="hidden" id="leadId" name="Lead_Id_External__c" />

        <h1>Zulassung erfassen</h1>

        <label for="Zulassung_vorhanden__c">Zulassung vorhanden?</label>
        <select id="Zulassung_vorhanden__c" name="Zulassung_vorhanden__c" required>
          <option value="" disabled selected>Bitte auswählen</option>
          <option value="Ja">Ja</option>
          <option value="Nein">Nein</option>
        </select>

        <div id="zulassungDetailsContainer" style="display: none;">
          <label for="Zulassungsdetails__c">Zulassungsdetails</label>
          <input
            id="Zulassungsdetails__c"
            name="Zulassungsdetails__c"
            type="text"
            maxlength="100"
            placeholder="z. B. §34f Abs. 1 GewO"
          />
        </div>

        <button type="submit" class="cta">Zulassung speichern</button>
        <div id="successMessage" class="success">✅ Danke! Ihre Angaben wurden gespeichert.</div>
      </form>

      <iframe name="hidden_iframe" id="hidden_iframe" style="display: none;"></iframe>

      <div class="foot">
        <strong>Pangaea Life GmbH</strong><br />
        Thomas-Dehler-Straße 25, 81737 München<br />
        Telefon: +49 89 123456-0  |  E-Mail: info@pangaea-life.de<br />
        © 2025 Pangaea Life GmbH
      </div>
    </div>

    <script>
      // Lead-ID aus URL holen
      const params = new URLSearchParams(window.location.search);
      const leadId = params.get("leadId");
      if (leadId) document.getElementById("leadId").value = leadId;

      // Zulassungsdetails nur anzeigen, wenn "Ja"
      const select = document.getElementById("Zulassung_vorhanden__c");
      const details = document.getElementById("zulassungDetailsContainer");
      select.addEventListener("change", () => {
        details.style.display = select.value === "Ja" ? "block" : "none";
      });

      // Erfolgsnachricht anzeigen & Formular leeren
      const form = document.getElementById("zulassungForm");
      const msg = document.getElementById("successMessage");
      form.addEventListener("submit", () => {
        msg.style.display = "block";
        setTimeout(() => form.reset(), 600);
        setTimeout(() => (msg.style.display = "none"), 5000);
      });
    </script>
  </body>
</html>
